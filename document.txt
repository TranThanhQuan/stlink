                    PROJECT Shorten Link
                    laravel 10 + Vue3


I.PH√ÇN T√çCH D·ª∞ √ÅN

üîπ 1. Ch·ª©c nƒÉng c·ªßa User (Ng∆∞·ªùi d√πng th∆∞·ªùng)
    üîπ Qu·∫£n l√Ω t√†i kho·∫£n
        ƒêƒÉng k√Ω t√†i kho·∫£n b·∫±ng email (c√≥ x√°c th·ª±c email).
        ƒêƒÉng nh·∫≠p b·∫±ng email/password ho·∫∑c Google OAuth.
        Qu√™n m·∫≠t kh·∫©u v√† ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u qua email.
        Ch·ªânh s·ª≠a h·ªì s∆° c√° nh√¢n (t√™n, email, avatar).
    üîπ Qu·∫£n l√Ω link r√∫t g·ªçn
        R√∫t g·ªçn link (gi·ªõi h·∫°n s·ªë l∆∞·ª£ng link).
        Qu·∫£n l√Ω danh s√°ch link r√∫t g·ªçn ƒë√£ t·∫°o.
        Ch·ªânh s·ª≠a ho·∫∑c x√≥a link.
        Xem s·ªë l∆∞·ª£t click tr√™n m·ªói link.
        Copy link r√∫t g·ªçn nhanh.
        Th√™m m·∫≠t kh·∫©u b·∫£o v·ªá link.
        T·ª± ƒë·ªông t·∫°o QR Code cho link r√∫t g·ªçn.
    üîπ Xem th·ªëng k√™ c∆° b·∫£n
        Xem t·ªïng s·ªë l∆∞·ª£t click c·ªßa t·ª´ng link.
        Xem ngu·ªìn truy c·∫≠p (Facebook, Google, Direct...).
        Xem thi·∫øt b·ªã truy c·∫≠p (PC, Mobile, Tablet).
        Xem qu·ªëc gia c·ªßa ng∆∞·ªùi truy c·∫≠p.
üîπ 2. Ch·ª©c nƒÉng c·ªßa Premium User (Ng∆∞·ªùi d√πng tr·∫£ ph√≠)
    Bao g·ªìm t·∫•t c·∫£ ch·ª©c nƒÉng c·ªßa User + c√°c ch·ª©c nƒÉng n√¢ng cao:

    üîπ T√πy ch·ªânh link r√∫t g·ªçn
        ƒê∆∞·ª£c ph√©p t√πy ch·ªânh slug (VD: domain.com/my-link).
        ƒê∆∞·ª£c ph√©p ch·ªânh s·ª≠a link ƒë√≠ch sau khi t·∫°o.
        Thi·∫øt l·∫≠p link h·∫øt h·∫°n theo th·ªùi gian (t·ª± ƒë·ªông v√¥ hi·ªáu sau X ng√†y).
        Thi·∫øt l·∫≠p link h·∫øt h·∫°n theo s·ªë l∆∞·ª£t click (h·∫øt X click th√¨ v√¥ hi·ªáu).
        ƒê·∫∑t m·∫≠t kh·∫©u b·∫£o v·ªá link.
        Ch·∫∑n IP ho·∫∑c qu·ªëc gia kh√¥ng ƒë∆∞·ª£c truy c·∫≠p link.
    üîπ Th·ªëng k√™ chi ti·∫øt
        Xem bi·ªÉu ƒë·ªì th·ªëng k√™ l∆∞·ª£t click theo ng√†y/th√°ng.
        Xem t·ªâ l·ªá truy c·∫≠p t·ª´ t·ª´ng ngu·ªìn (Facebook, Ads, Google, Direct...).
        Xem danh s√°ch IP & ƒë·ªãa ch·ªâ qu·ªëc gia c·ªßa ng∆∞·ªùi truy c·∫≠p.
        Xem danh s√°ch tr√¨nh duy·ªát & h·ªá ƒëi·ªÅu h√†nh c·ªßa ng∆∞·ªùi truy c·∫≠p.
    üîπ API & T√≠ch h·ª£p
        API ri√™ng ƒë·ªÉ t·∫°o link r√∫t g·ªçn th√¥ng qua REST API.
        Webhook ƒë·ªÉ nh·∫≠n th√¥ng b√°o khi c√≥ click m·ªõi.
        Export d·ªØ li·ªáu th·ªëng k√™ ra CSV/Excel.
üîπ 3. Ch·ª©c nƒÉng c·ªßa Admin
    üîπ Qu·∫£n l√Ω ng∆∞·ªùi d√πng
        Xem danh s√°ch User & Premium User.
        C·∫≠p nh·∫≠t th√¥ng tin, n√¢ng c·∫•p user l√™n Premium.
        Ch·∫∑n, x√≥a, ho·∫∑c v√¥ hi·ªáu h√≥a t√†i kho·∫£n user.
        Qu·∫£n l√Ω danh s√°ch thanh to√°n c·ªßa Premium User.
    üîπ Qu·∫£n l√Ω link r√∫t g·ªçn
        Xem danh s√°ch t·∫•t c·∫£ link r√∫t g·ªçn trong h·ªá th·ªëng.
        X√≥a ho·∫∑c v√¥ hi·ªáu h√≥a link vi ph·∫°m.
        Ki·ªÉm tra link c√≥ ch·ª©a n·ªôi dung ƒë·ªôc h·∫°i (phishing, spam, virus).
        B√°o c√°o & ph√¢n t√≠ch s·ªë l∆∞·ª£ng link r√∫t g·ªçn trong h·ªá th·ªëng.
    üîπ Qu·∫£n l√Ω th·ªëng k√™ h·ªá th·ªëng
        Xem t·ªïng s·ªë l∆∞·ª£t click tr√™n to√†n h·ªá th·ªëng.
        Xem s·ªë l∆∞·ª£ng link r√∫t g·ªçn theo t·ª´ng ng√†y.
        Xem danh s√°ch ngu·ªìn truy c·∫≠p ph·ªï bi·∫øn nh·∫•t.
        Xem thi·∫øt b·ªã, tr√¨nh duy·ªát & qu·ªëc gia truy c·∫≠p ph·ªï bi·∫øn nh·∫•t.
    üîπ Qu·∫£n l√Ω ph√¢n quy·ªÅn
        T·∫°o & ch·ªânh s·ª≠a c√°c nh√≥m quy·ªÅn (v√≠ d·ª•: User, Premium, Moderator).
        C·∫•u h√¨nh quy·ªÅn truy c·∫≠p cho t·ª´ng nh√≥m.
        Ph√¢n quy·ªÅn c·ª• th·ªÉ cho t·ª´ng user.
üîπ 4. Ch·ª©c nƒÉng m·ªü r·ªông & n√¢ng cao
    üîπ H·ªá th·ªëng ki·∫øm ti·ªÅn t·ª´ link r√∫t g·ªçn
        ƒê·∫∑t qu·∫£ng c√°o tr∆∞·ªõc khi redirect (interstitial ads).
        T√≠nh to√°n thu nh·∫≠p d·ª±a tr√™n CPM/CPC.
        Cho ph√©p user r√∫t ti·ªÅn n·∫øu ƒë·∫°t m·ª©c t·ªëi thi·ªÉu.
    üîπ T√≠ch h·ª£p chatbot & th√¥ng b√°o
        G·ª≠i th√¥ng b√°o khi link ƒë·∫°t s·ªë l∆∞·ª£t click nh·∫•t ƒë·ªãnh.
        G·ª≠i email b√°o c√°o l∆∞·ª£t click h√†ng tu·∫ßn/th√°ng.
        T√≠ch h·ª£p chatbot h·ªó tr·ª£ kh√°ch h√†ng qua Messenger/Zalo.


Ph∆∞∆°ng √°n x·ª≠ l√Ω khi link h·∫øt h·∫°n

Chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang th√¥ng b√°o l·ªói (expired-link).
N·ªôi dung trang:
üî¥ Th√¥ng b√°o link ƒë√£ h·∫øt h·∫°n: "Li√™n k·∫øt n√†y kh√¥ng c√≤n kh·∫£ d·ª•ng."
üìå G·ª£i √Ω h√†nh ƒë·ªông: N·∫øu ng∆∞·ªùi t·∫°o link l√† ch√≠nh ch·ªß, cho ph√©p h·ªç t·∫°o l·∫°i.

public function redirectToShortLink($short_code)
{
    $link = ShortLink::where('short_code', $short_code)->first();

    if (!$link) {
        abort(404, 'Li√™n k·∫øt kh√¥ng t·ªìn t·∫°i.');
    }

    if ($link->expires_at && $link->expires_at <= now()) {
        return response()->view('errors.expired-link', compact('link'), 410);
    }

    return redirect()->away($link->original_url);
}


    ho·∫∑c

    Chuy·ªÉn h∆∞·ªõng v·ªÅ trang ch·ªß ho·∫∑c trang landing
    N·∫øu kh√¥ng mu·ªën hi·ªÉn th·ªã l·ªói, c√≥ th·ªÉ chuy·ªÉn h∆∞·ªõng v·ªÅ trang ch·ªß:
    T·ªët cho SEO, tr√°nh l·ªói 404 nhi·ªÅu tr√™n website.


    return redirect()->route('home')->with('error', 'Li√™n k·∫øt n√†y ƒë√£ h·∫øt h·∫°n.');

///////     C√°c l·ªói c√≥ th·ªÉ x·∫£y ra  /////////////

C√°c l·ªói c√≥ th·ªÉ x·∫£y ra khi v·∫≠n h√†nh h·ªá th·ªëng r√∫t g·ªçn link
üìå 1. L·ªói li√™n quan ƒë·∫øn link r√∫t g·ªçn
        1.1. Link kh√¥ng t·ªìn t·∫°i (404)
        Nguy√™n nh√¢n: Ng∆∞·ªùi d√πng nh·∫≠p sai m√£ r√∫t g·ªçn ho·∫∑c link ƒë√£ b·ªã x√≥a.
        C√°ch x·ª≠ l√Ω: Hi·ªÉn th·ªã trang l·ªói 404 v·ªõi th√¥ng b√°o: "Li√™n k·∫øt kh√¥ng t·ªìn t·∫°i."
        1.2. Link ƒë√£ h·∫øt h·∫°n (410)
        Nguy√™n nh√¢n: Link ƒë√£ h·∫øt h·∫°n theo ch√≠nh s√°ch (10 ng√†y v·ªõi user, t√πy ch·ªânh v·ªõi Premium).
        C√°ch x·ª≠ l√Ω: Hi·ªÉn th·ªã trang l·ªói 410 ho·∫∑c cho ph√©p Premium t·∫°o l·∫°i link.
        1.3. Link b·ªã v√¥ hi·ªáu h√≥a
        Nguy√™n nh√¢n: Admin t·∫Øt link do vi ph·∫°m ch√≠nh s√°ch.
        C√°ch x·ª≠ l√Ω: Hi·ªÉn th·ªã th√¥ng b√°o: "Li√™n k·∫øt n√†y ƒë√£ b·ªã v√¥ hi·ªáu h√≥a b·ªüi qu·∫£n tr·ªã vi√™n."
        1.4. Chuy·ªÉn h∆∞·ªõng sai URL
        Nguy√™n nh√¢n: Link b·ªã l·ªói do sai d·ªØ li·ªáu khi nh·∫≠p v√†o.
        C√°ch x·ª≠ l√Ω: Ki·ªÉm tra d·ªØ li·ªáu, validate URL tr∆∞·ªõc khi l∆∞u.
üìå 2. L·ªói li√™n quan ƒë·∫øn ng∆∞·ªùi d√πng
        2.1. Kh√¥ng ƒëƒÉng nh·∫≠p ƒë∆∞·ª£c
        Nguy√™n nh√¢n: Sai m·∫≠t kh·∫©u ho·∫∑c t√†i kho·∫£n b·ªã kh√≥a.
        C√°ch x·ª≠ l√Ω: Hi·ªÉn th·ªã l·ªói c·ª• th·ªÉ, th√™m ch·ª©c nƒÉng qu√™n m·∫≠t kh·∫©u.
        2.2. Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c t√†i kho·∫£n
        Nguy√™n nh√¢n: Email x√°c th·ª±c kh√¥ng ƒë·∫øn h·ªôp th∆∞.
        C√°ch x·ª≠ l√Ω: Cho ph√©p g·ª≠i l·∫°i email x√°c th·ª±c.
        2.3. Kh√¥ng t·∫°o ƒë∆∞·ª£c link
        Nguy√™n nh√¢n: User b·ªã gi·ªõi h·∫°n s·ªë l∆∞·ª£ng link/ng√†y.
        C√°ch x·ª≠ l√Ω: Th√¥ng b√°o s·ªë l∆∞·ª£ng t·ªëi ƒëa user c√≥ th·ªÉ t·∫°o.
        2.4. Premium kh√¥ng ƒë·∫∑t ƒë∆∞·ª£c th·ªùi gian h·∫øt h·∫°n
        Nguy√™n nh√¢n: Nh·∫≠p sai ƒë·ªãnh d·∫°ng th·ªùi gian.
        C√°ch x·ª≠ l√Ω: Validate ƒë·∫ßu v√†o c·ªßa expires_at.
üìå 3. L·ªói b·∫£o m·∫≠t & t·∫•n c√¥ng h·ªá th·ªëng
        3.1. Spam t·∫°o link h√†ng lo·∫°t
        Nguy√™n nh√¢n: Bot ho·∫∑c user l·∫°m d·ª•ng API.
        C√°ch x·ª≠ l√Ω: Gi·ªõi h·∫°n s·ªë l·∫ßn t·∫°o link theo IP/user trong 1 gi·ªù.
        3.2. SQL Injection
        Nguy√™n nh√¢n: Nh·∫≠p d·ªØ li·ªáu kh√¥ng an to√†n v√†o database.
        C√°ch x·ª≠ l√Ω: D√πng Laravel Query Builder ho·∫∑c Eloquent ƒë·ªÉ tr√°nh SQL Injection.
        3.3. XSS Attack
        Nguy√™n nh√¢n: User nh·∫≠p script v√†o URL ho·∫∑c custom alias.
        C√°ch x·ª≠ l√Ω: Encode output, d√πng htmlspecialchars().
        3.4. CSRF Attack
        Nguy√™n nh√¢n: Ng∆∞·ªùi d√πng b·ªã t·∫•n c√¥ng qua form kh√¥ng b·∫£o m·∫≠t.
        C√°ch x·ª≠ l√Ω: S·ª≠ d·ª•ng CSRF Token trong form.
üìå 4. L·ªói li√™n quan ƒë·∫øn hi·ªáu su·∫•t & d·ªØ li·ªáu
        4.1. T·ªëc ƒë·ªô ch·∫≠m khi truy v·∫•n d·ªØ li·ªáu
        Nguy√™n nh√¢n: D·ªØ li·ªáu qu√° l·ªõn, kh√¥ng c√≥ index.
        C√°ch x·ª≠ l√Ω: T·∫°o index tr√™n short_code, expires_at, created_at.
        4.2. L∆∞·ª£ng truy c·∫≠p cao g√¢y qu√° t·∫£i
        Nguy√™n nh√¢n: Kh√¥ng c√≥ caching ho·∫∑c load balancing.
        C√°ch x·ª≠ l√Ω: S·ª≠ d·ª•ng Redis ƒë·ªÉ cache, t·ªëi ∆∞u database, CDN.
        4.3. Kh√¥ng ƒë·∫øm ƒë√∫ng l∆∞·ª£t click
        Nguy√™n nh√¢n: Request b·ªã tr√πng ho·∫∑c b·ªã ch·∫∑n.
        C√°ch x·ª≠ l√Ω: Ch·ªëng spam b·∫±ng IP ho·∫∑c session.
üìå 5. L·ªói li√™n quan ƒë·∫øn thanh to√°n (n·∫øu c√≥ g√≥i Premium)
        5.1. Kh√¥ng n√¢ng c·∫•p ƒë∆∞·ª£c Premium
        Nguy√™n nh√¢n: L·ªói thanh to√°n.
        C√°ch x·ª≠ l√Ω: Ki·ªÉm tra c·ªïng thanh to√°n, log l·ªói ƒë·ªÉ x·ª≠ l√Ω.
        5.2. M·∫•t quy·ªÅn Premium sau khi gia h·∫°n
        Nguy√™n nh√¢n: L·ªói c·∫≠p nh·∫≠t tr·∫°ng th√°i t√†i kho·∫£n.
        C√°ch x·ª≠ l√Ω: Ki·ªÉm tra cron job x·ª≠ l√Ω gia h·∫°n g√≥i Premium.
üìå 6. L·ªói li√™n quan ƒë·∫øn tracking & ph√¢n t√≠ch
        6.1. Kh√¥ng nh·∫≠n di·ªán ƒë√∫ng ngu·ªìn traffic
        Nguy√™n nh√¢n: Referrer b·ªã ch·∫∑n b·ªüi tr√¨nh duy·ªát ho·∫∑c adblock.
        C√°ch x·ª≠ l√Ω: Th√™m tracking UTM, s·ª≠ d·ª•ng server-side tracking.
        6.2. Th·ªëng k√™ l∆∞·ª£t click kh√¥ng ch√≠nh x√°c
        Nguy√™n nh√¢n: Do bot ho·∫∑c ng∆∞·ªùi d√πng truy c·∫≠p ·∫£o.
        C√°ch x·ª≠ l√Ω: L·ªçc bot d·ª±a tr√™n user-agent, gi·ªõi h·∫°n click t·ª´ c√πng IP trong th·ªùi gian ng·∫Øn.



üîπ C√¥ng Ngh·ªá S·ª≠ d·ª•ng


 Backend (Server-side)
‚úÖ Laravel ‚Äì Framework PHP ch√≠nh ƒë·ªÉ x√¢y d·ª±ng API v√† x·ª≠ l√Ω backend.
‚úÖ Inertia.js ‚Äì K·∫øt h·ª£p Laravel & Vue.js m√† kh√¥ng c·∫ßn API thu·∫ßn t√∫y.
‚úÖ MySQL ‚Äì H·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu ƒë·ªÉ l∆∞u link r√∫t g·ªçn, ng∆∞·ªùi d√πng, th·ªëng k√™.
‚úÖ Laravel Breeze ‚Äì H·ªó tr·ª£ authentication (ƒëƒÉng nh·∫≠p, ƒëƒÉng k√Ω, reset m·∫≠t kh·∫©u).
‚úÖ Laravel Sanctum ‚Äì Cung c·∫•p b·∫£o m·∫≠t API cho Premium Users.
‚úÖ Jenssegers Agent ‚Äì X√°c ƒë·ªãnh thi·∫øt b·ªã & tr√¨nh duy·ªát c·ªßa ng∆∞·ªùi truy c·∫≠p.
‚úÖ GeoIP2 ‚Äì X√°c ƒë·ªãnh qu·ªëc gia, th√†nh ph·ªë c·ªßa ng∆∞·ªùi truy c·∫≠p t·ª´ IP.
‚úÖ Queue & Job ‚Äì X·ª≠ l√Ω tracking l∆∞·ª£t click, g·ª≠i email m√† kh√¥ng ·∫£nh h∆∞·ªüng hi·ªáu su·∫•t.



üîπ Frontend (Client-side)
‚úÖ Vue.js 3 ‚Äì Framework frontend ch√≠nh ƒë·ªÉ x√¢y d·ª±ng giao di·ªán.
‚úÖ TailwindCSS ‚Äì Thi·∫øt k·∫ø UI linh ho·∫°t, nh·∫π, d·ªÖ t√πy ch·ªânh.
‚úÖ Chart.js ‚Äì Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì th·ªëng k√™ s·ªë l∆∞·ª£t click, ngu·ªìn truy c·∫≠p.
‚úÖ Axios ‚Äì G·ª≠i v√† nh·∫≠n d·ªØ li·ªáu gi·ªØa frontend & backend.
‚úÖ Vue Router ‚Äì ƒêi·ªÅu h∆∞·ªõng trang trong frontend.
‚úÖ Pinia ‚Äì Qu·∫£n l√Ω state thay v√¨ Vuex (nh·∫π h∆°n, d·ªÖ d√πng h∆°n).
‚úÖ QR Code Generator ‚Äì T·∫°o m√£ QR t·ª´ link r√∫t g·ªçn.




üîπ Authentication & B·∫£o m·∫≠t
‚úÖ Google OAuth ‚Äì H·ªó tr·ª£ ƒëƒÉng nh·∫≠p b·∫±ng Google.
‚úÖ Laravel Throttle ‚Äì Gi·ªõi h·∫°n s·ªë l·∫ßn request tr√°nh spam.
‚úÖ CSRF & XSS Protection ‚Äì B·∫£o v·ªá form v√† API kh·ªèi t·∫•n c√¥ng.
‚úÖ reCAPTCHA ‚Äì Ch·ªëng bot khi ƒëƒÉng k√Ω t√†i kho·∫£n.


üîπ DevOps & Deploy
‚úÖ Docker ‚Äì Ch·∫°y m√¥i tr∆∞·ªùng ph√°t tri·ªÉn ƒë·ªìng nh·∫•t.
‚úÖ Redis ‚Äì Cache d·ªØ li·ªáu, tƒÉng t·ªëc truy v·∫•n.
‚úÖ Supervisor ‚Äì Qu·∫£n l√Ω Queue & Job x·ª≠ l√Ω l∆∞·ª£t click.
‚úÖ Nginx / Apache ‚Äì Web server ƒë·ªÉ ch·∫°y Laravel.
‚úÖ GitHub Actions ‚Äì CI/CD ƒë·ªÉ deploy t·ª± ƒë·ªông.
‚úÖ VPS / Cloud (AWS, DigitalOcean, Linode, Vultr,...) ‚Äì Tri·ªÉn khai h·ªá th·ªëng.


üîπ C√¥ng c·ª• h·ªó tr·ª£ & Debug
‚úÖ Laravel Debugbar ‚Äì Debug query v√† hi·ªáu su·∫•t ·ª©ng d·ª•ng.
‚úÖ Postman ‚Äì Ki·ªÉm th·ª≠ API.
‚úÖ Sentry / Bugsnag ‚Äì Theo d√µi l·ªói real-time.



üéØ T·ªïng k·∫øt
üìå Backend: Laravel, Inertia.js, MySQL, Sanctum.
üìå Frontend: Vue.js 3, TailwindCSS, Chart.js.
üìå B·∫£o m·∫≠t: Google OAuth, CSRF, XSS, Throttle.
üìå Deploy: Docker, Redis, Supervisor, VPS.




////////  PERMIISSION      /////////

C√°c quy·ªÅn s·∫Ω ƒë∆∞·ª£c l∆∞u trong database (b·∫£ng permissions), sau ƒë√≥ Admin c√≥ th·ªÉ b·∫≠t/t·∫Øt t·ª´ng quy·ªÅn cho User ho·∫∑c Premium.

Danh s√°ch quy·ªÅn (Permissions)
üîπ Qu·∫£n l√Ω t√†i kho·∫£n
‚úÖ manage_users ‚Äì Xem danh s√°ch user.
‚úÖ edit_users ‚Äì Ch·ªânh s·ª≠a th√¥ng tin user.
‚úÖ delete_users ‚Äì X√≥a ho·∫∑c v√¥ hi·ªáu h√≥a t√†i kho·∫£n.
‚úÖ upgrade_users ‚Äì N√¢ng c·∫•p user l√™n Premium.
‚úÖ ban_users ‚Äì C·∫•m user vi ph·∫°m.

üîπ Qu·∫£n l√Ω link r√∫t g·ªçn
‚úÖ create_links ‚Äì T·∫°o link r√∫t g·ªçn.
‚úÖ edit_links ‚Äì Ch·ªânh s·ª≠a link r√∫t g·ªçn.
‚úÖ delete_links ‚Äì X√≥a link r√∫t g·ªçn.
‚úÖ custom_slug ‚Äì T·∫°o slug t√πy ch·ªânh (VD: domain.com/my-link).
‚úÖ set_expiry_links ‚Äì Thi·∫øt l·∫≠p link h·∫øt h·∫°n theo th·ªùi gian/click.
‚úÖ protect_links ‚Äì ƒê·∫∑t m·∫≠t kh·∫©u b·∫£o v·ªá link.
‚úÖ block_countries ‚Äì Ch·∫∑n IP ho·∫∑c qu·ªëc gia kh√¥ng ƒë∆∞·ª£c truy c·∫≠p.

üîπ Qu·∫£n l√Ω th·ªëng k√™ & tracking
‚úÖ view_analytics ‚Äì Xem s·ªë l∆∞·ª£t click.
‚úÖ view_referrer_stats ‚Äì Xem ngu·ªìn truy c·∫≠p (Facebook, Google, Ads‚Ä¶).
‚úÖ view_device_stats ‚Äì Xem thi·∫øt b·ªã truy c·∫≠p (PC, Mobile, Tablet).
‚úÖ view_country_stats ‚Äì Xem danh s√°ch qu·ªëc gia truy c·∫≠p.
‚úÖ export_data ‚Äì Xu·∫•t d·ªØ li·ªáu th·ªëng k√™ ra file CSV/Excel.

üîπ Qu·∫£n l√Ω h·ªá th·ªëng
‚úÖ view_all_links ‚Äì Xem t·∫•t c·∫£ link r√∫t g·ªçn trong h·ªá th·ªëng.
‚úÖ delete_any_links ‚Äì X√≥a link vi ph·∫°m.
‚úÖ view_reports ‚Äì Xem b√°o c√°o h·ªá th·ªëng.
‚úÖ manage_settings ‚Äì C·∫•u h√¨nh h·ªá th·ªëng (t√™n, logo, domain‚Ä¶).
‚úÖ manage_ads ‚Äì Qu·∫£n l√Ω qu·∫£ng c√°o tr√™n link r√∫t g·ªçn.

üîπ Qu·∫£n l√Ω quy·ªÅn & ph√¢n quy·ªÅn
‚úÖ assign_roles ‚Äì G√°n quy·ªÅn cho user.
‚úÖ create_roles ‚Äì T·∫°o nh√≥m quy·ªÅn m·ªõi.
‚úÖ edit_roles ‚Äì Ch·ªânh s·ª≠a quy·ªÅn c·ªßa nh√≥m.
‚úÖ delete_roles ‚Äì X√≥a nh√≥m quy·ªÅn.







II. Thi·∫øt k·∫ø database


üìå 1. B·∫£ng users (L∆∞u th√¥ng tin ng∆∞·ªùi d√πng)

        CREATE TABLE users (
            id            BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
            name          VARCHAR(255) NOT NULL,
            email         VARCHAR(255) UNIQUE NOT NULL,
            password      VARCHAR(255) NULL, -- N·∫øu ƒëƒÉng nh·∫≠p b·∫±ng Google th√¨ c√≥ th·ªÉ NULL
            provider      ENUM('email', 'google') DEFAULT 'email', -- Ph∆∞∆°ng th·ª©c ƒëƒÉng nh·∫≠p
            provider_id   VARCHAR(255) NULL, -- L∆∞u ID khi ƒëƒÉng nh·∫≠p b·∫±ng Google
            role          ENUM('user', 'premium', 'moderator', 'admin') DEFAULT 'user',
            created_at    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
            updated_at    TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
        );



üìå 2. B·∫£ng links (L∆∞u link r√∫t g·ªçn)

        CREATE TABLE links (
            id            BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
            user_id       BIGINT UNSIGNED NOT NULL,
            short_code    VARCHAR(20) UNIQUE NOT NULL, -- M√£ r√∫t g·ªçn
            original_url  TEXT NOT NULL, -- URL g·ªëc
            created_at    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
            expires_at    TIMESTAMP NULL, -- User th∆∞·ªùng m·∫∑c ƒë·ªãnh 10 ng√†y, Premium t·ª± ch·ªçn
            status        ENUM('active', 'expired', 'disabled') DEFAULT 'active', -- Tr·∫°ng th√°i
            FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
        );


üìå 3. B·∫£ng click_statistics (L∆∞u l·ªãch s·ª≠ truy c·∫≠p link)

        CREATE TABLE click_statistics (
            id            BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
            short_link_id BIGINT UNSIGNED NOT NULL,
            ip_address    VARCHAR(45) NOT NULL,
            user_agent    TEXT NOT NULL,
            referrer      ENUM('facebook', 'google', 'ads', 'other') DEFAULT 'other', -- Ngu·ªìn truy c·∫≠p
            device_type   ENUM('mobile', 'tablet', 'pc') NOT NULL, -- Ph√¢n lo·∫°i thi·∫øt b·ªã
            os           VARCHAR(50) NOT NULL, -- H·ªá ƒëi·ªÅu h√†nh (iOS, Android, Windows,...)
            country       VARCHAR(100) NULL, -- Qu·ªëc gia truy c·∫≠p
            clicked_at    TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- Th·ªùi gian truy c·∫≠p
            FOREIGN KEY (short_link_id) REFERENCES links(id) ON DELETE CASCADE
        );


üìå 4. B·∫£ng permissions (L∆∞u danh s√°ch quy·ªÅn)

        CREATE TABLE permissions (
            id          BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
            code        VARCHAR(50) UNIQUE NOT NULL, -- M√£ quy·ªÅn (vd: manage_users)
            name        VARCHAR(255) NOT NULL, -- T√™n quy·ªÅn
            description TEXT NULL -- M√¥ t·∫£ quy·ªÅn
        );



üìå 5. B·∫£ng role_permissions (Ph√¢n quy·ªÅn cho vai tr√≤)

        CREATE TABLE role_permissions (
            id            BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
            role          ENUM('user', 'premium', 'moderator', 'admin') NOT NULL,
            permission_id BIGINT UNSIGNED NOT NULL,
            FOREIGN KEY (permission_id) REFERENCES permissions(id) ON DELETE CASCADE
        );


üìå 6. B·∫£ng user_payments (L∆∞u l·ªãch s·ª≠ thanh to√°n c·ªßa Premium)

        CREATE TABLE user_payments (
            id           BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
            user_id      BIGINT UNSIGNED NOT NULL,
            amount       DECIMAL(10,2) NOT NULL, -- S·ªë ti·ªÅn thanh to√°n
            payment_method ENUM('credit_card', 'paypal', 'bank_transfer') NOT NULL,
            status       ENUM('pending', 'completed', 'failed') DEFAULT 'pending',
            created_at   TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
            FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
        );

üìå 7. Index ƒë·ªÉ t·ªëi ∆∞u truy v·∫•n

        CREATE INDEX idx_short_code ON links(short_code);
        CREATE INDEX idx_expires_at ON links(expires_at);
        CREATE INDEX idx_clicked_at ON click_statistics(clicked_at);
        CREATE INDEX idx_referrer ON click_statistics(referrer);


** T·∫°o c√°c model c·∫ßn thi·∫øt **
    - c√°c model c·∫ßn thi·∫øt:
        User: L∆∞u th√¥ng tin ng∆∞·ªùi d√πng
        Role: Qu·∫£n l√Ω vai tr√≤ (Admin, User, Premium, v.v.)
        Permission: Quy·ªÅn truy c·∫≠p t·ª´ng ch·ª©c nƒÉng
        RolePermission: G√°n quy·ªÅn v√†o vai tr√≤
        UserRole: G√°n vai tr√≤ cho ng∆∞·ªùi d√πng
        ShortLink: Qu·∫£n l√Ω link r√∫t g·ªçn
        ClickStatistic: L∆∞u tr·ªØ l∆∞·ª£t click
        Plan: G√≥i ƒëƒÉng k√Ω Premium
        Subscription: Ng∆∞·ªùi d√πng ƒëƒÉng k√Ω g√≥i Premium




        php artisan make:model Role -m (-m ƒë·ªÉ t·∫°o th√™m migration)

    *Note: ƒë·∫∑t t√™n model theo s·ªë √≠t th√¨ migration s·∫Ω t·ª± ƒë·ªông ƒë·∫∑t s·ªë nhi·ªÅu

        Quan h·ªá gi·ªØa c√°c b·∫£ng
        D∆∞·ªõi ƒë√¢y l√† quan h·ªá gi·ªØa c√°c b·∫£ng trong h·ªá th·ªëng:

        User ‚Üî ShortLink (1-N)
        ‚Üí M·ªôt user c√≥ nhi·ªÅu link r√∫t g·ªçn.

        ShortLink ‚Üî ClickStatistic (1-N)
        ‚Üí M·ªôt link c√≥ nhi·ªÅu l∆∞·ª£t click.

        User ‚Üî Role (N-N) (th√¥ng qua user_roles)
        ‚Üí M·ªôt user c√≥ th·ªÉ c√≥ nhi·ªÅu vai tr√≤.

        Role ‚Üî Permission (N-N) (th√¥ng qua role_permissions)
        ‚Üí M·ªôt vai tr√≤ c√≥ nhi·ªÅu quy·ªÅn.

        User ‚Üî Subscription (1-N)
        ‚Üí M·ªôt user c√≥ nhi·ªÅu l·∫ßn ƒëƒÉng k√Ω Premium.

        Subscription ‚Üî Plan (N-1)
        ‚Üí M·ªôt g√≥i Premium c√≥ nhi·ªÅu subscriptions.

** T·∫°o migration **

** T·∫°o  Seeder **

- S·ª≠ d·ª•ng laravel Sluggable ƒë·ªÉ t·∫°o slug th√¢n thi·ªán v·ªõi SEO
        composer require spatie/laravel-sluggable

        + import v√†o trong model (product, blog, ...)

            use Spatie\Sluggable\HasSlug;
            use Spatie\Sluggable\SlugOptions;

            class Product extends Model
                {
                    use HasSlug;
                    use HasFactory;

                    protected $fillable = [ 'title', 'slug', 'description', 'published', 'inStock', 'price', 'created_by', 'updated_by', 'deleted_by',];

                    public function getSlugOptions() : SlugOptions
                    {
                        return SlugOptions::create()
                            ->generateSlugsFrom('title')
                            ->saveSlugsTo('slug');
                    }
                }

III. Menu Sidebar

Sidebar Menu Theo Role
M·ªói role s·∫Ω c√≥ c√°c quy·ªÅn truy c·∫≠p kh√°c nhau:

üîπ Admin Sidebar
    üìä Dashboard
    üë• Qu·∫£n l√Ω ng∆∞·ªùi d√πng
        Danh s√°ch ng∆∞·ªùi d√πng
        Ph√¢n quy·ªÅn
        X√≥a/Ban ng∆∞·ªùi d√πng

    üîó Qu·∫£n l√Ω link
        Danh s√°ch link
        Ki·ªÉm duy·ªát link
        Link b·ªã b√°o c√°o

    üìà Th·ªëng k√™ & B√°o c√°o
        L∆∞·ª£t click theo th·ªùi gian
        Ngu·ªìn traffic
        Thi·∫øt b·ªã & H·ªá ƒëi·ªÅu h√†nh

    üí≥ Qu·∫£n l√Ω thanh to√°n
        Danh s√°ch giao d·ªãch
        Duy·ªát n√¢ng c·∫•p Premium

    ‚öôÔ∏è C·∫•u h√¨nh h·ªá th·ªëng
        C√†i ƒë·∫∑t chung
        Qu·∫£n l√Ω API key
        C·∫•u h√¨nh email



üî∏ Moderator Sidebar
    üìä Dashboard
    üîó Qu·∫£n l√Ω link
        Danh s√°ch link
        Ki·ªÉm duy·ªát link
        Link b·ªã b√°o c√°o
    üìà Th·ªëng k√™ l∆∞·ª£t click
    ‚ö†Ô∏è B√°o c√°o vi ph·∫°m
        Danh s√°ch link b·ªã t·ªë c√°o


üü¢ Premium User Sidebar
    üè† Trang ch·ªß

    üîó Qu·∫£n l√Ω link c·ªßa t√¥i
        Danh s√°ch link
        Ch·ªânh s·ª≠a link
        T√πy ch·ªânh th·ªùi gian h·∫øt h·∫°n
        X√≥a link

    üìä Th·ªëng k√™ link
        L∆∞·ª£t click theo th·ªùi gian
        Ngu·ªìn traffic
        Thi·∫øt b·ªã & H·ªá ƒëi·ªÅu h√†nh

    üí≥ G√≥i Premium
        Th√¥ng tin g√≥i
        Gia h·∫°n / N√¢ng c·∫•p

    ‚öôÔ∏è C√†i ƒë·∫∑t t√†i kho·∫£n


üü° User Sidebar
    üè† Trang ch·ªß

    üîó Qu·∫£n l√Ω link c·ªßa t√¥i
        Danh s√°ch link
        X√≥a link

    üìä Th·ªëng k√™ c∆° b·∫£n
        T·ªïng s·ªë l∆∞·ª£t click

    ‚öôÔ∏è C√†i ƒë·∫∑t t√†i kho·∫£n




IV. T·∫°o v√† config d·ª± √°n
1. T·∫°o d·ª± √°n
    composer create-project laravel/laravel ten_project "10.*"

    cd ten_project

    C√†i ƒë·∫∑t Laravel Breeze
            composer require laravel/breeze --dev

    C√†i ƒë·∫∑t Breeze v·ªõi Vue
            php artisan breeze:install vue

    C√†i ƒë·∫∑t NPM Packages v√† build
            npm install && npm run dev


2. Config
    - .env database, ch·∫°y migrate
    - T·∫°o .htaccess file
            <IfModule mod_rewrite.c>
                RewriteEngine On

                # Rewrite all requests to the public directory
                RewriteRule ^(.*)$ public/$1 [L]
            </IfModule>

II. T·∫°o migration

B·∫£ng	        Quan h·ªá	                                    B·∫£ng
users	        1 - n	                                links
links	    1 - n	                                click_statistics
users	        1 - n	                                user_payments
users	        n - n (th√¥ng qua role_permissions)	    permissions



üìå 1. Migration cho b·∫£ng users
        return new class extends Migration {
            public function up() {
                Schema::create('users', function (Blueprint $table) {
                    $table->id();
                    $table->string('name');
                    $table->string('email')->unique();
                    $table->string('password')->nullable(); // C√≥ th·ªÉ null n·∫øu ƒëƒÉng nh·∫≠p b·∫±ng Google
                    $table->enum('provider', ['email', 'google'])->default('email');
                    $table->string('provider_id')->nullable();
                    $table->enum('role', ['user', 'premium', 'moderator', 'admin'])->default('user');
                    $table->timestamps();
                });
            }

            public function down() {
                Schema::dropIfExists('users');
            }
        };


üìå 2. Migration cho b·∫£ng links

        return new class extends Migration {
            public function up() {
                Schema::create('links', function (Blueprint $table) {
                    $table->id();
                    $table->foreignId('user_id')->constrained()->onDelete('cascade');
                    $table->string('short_code', 20)->unique();
                    $table->text('original_url');
                    $table->enum('status', ['active', 'expired', 'disabled'])->default('active');
                    $table->timestamp('expires_at')->nullable();
                    $table->timestamps();

                    $table->index('short_code');
                    $table->index('expires_at');
                });
            }

            public function down() {
                Schema::dropIfExists('links');
            }
        };


üìå 3. Migration cho b·∫£ng click_statistics

        return new class extends Migration {
            public function up() {
                Schema::create('click_statistics', function (Blueprint $table) {
                    $table->id();
                    $table->foreignId('short_link_id')->constrained('links')->onDelete('cascade');
                    $table->string('ip_address', 45);
                    $table->text('user_agent');
                    $table->enum('referrer', ['facebook', 'google', 'ads', 'other'])->default('other');
                    $table->enum('device_type', ['mobile', 'tablet', 'pc']);
                    $table->string('os', 50);
                    $table->string('country', 100)->nullable();
                    $table->timestamp('clicked_at')->default(DB::raw('CURRENT_TIMESTAMP'));

                    $table->index('clicked_at');
                    $table->index('referrer');
                });
            }

            public function down() {
                Schema::dropIfExists('click_statistics');
            }
        };


üìå 4. Migration cho b·∫£ng permissions

        return new class extends Migration {
            public function up() {
                Schema::create('permissions', function (Blueprint $table) {
                    $table->id();
                    $table->string('code', 50)->unique();
                    $table->string('name');
                    $table->text('description')->nullable();
                    $table->timestamps();
                });
            }

            public function down() {
                Schema::dropIfExists('permissions');
            }
        };


üìå 5. Migration cho b·∫£ng role_permissions

        return new class extends Migration {
            public function up() {
                Schema::create('role_permissions', function (Blueprint $table) {
                    $table->id();
                    $table->enum('role', ['user', 'premium', 'moderator', 'admin']);
                    $table->foreignId('permission_id')->constrained('permissions')->onDelete('cascade');
                    $table->timestamps();
                });
            }

            public function down() {
                Schema::dropIfExists('role_permissions');
            }
        };


üìå 6. Migration cho b·∫£ng user_payments

        return new class extends Migration {
            public function up() {
                Schema::create('user_payments', function (Blueprint $table) {
                    $table->id();
                    $table->foreignId('user_id')->constrained('users')->onDelete('cascade');
                    $table->decimal('amount', 10, 2);
                    $table->enum('payment_method', ['credit_card', 'paypal', 'bank_transfer']);
                    $table->enum('status', ['pending', 'completed', 'failed'])->default('pending');
                    $table->timestamps();
                });
            }

            public function down() {
                Schema::dropIfExists('user_payments');
            }
        };



III. c√°c quan h·ªá (relationships) gi·ªØa c√°c b·∫£ng

üìå 1. Model User.php

        class User extends Authenticatable {
            use HasFactory, Notifiable;

            protected $fillable = [
                'name', 'email', 'password', 'provider', 'provider_id', 'role',
            ];

            // M·ªôt user c√≥ nhi·ªÅu link r√∫t g·ªçn
            public function shortLinks(): HasMany {
                return $this->hasMany(ShortLink::class);
            }

            // M·ªôt user c√≥ th·ªÉ c√≥ nhi·ªÅu l∆∞·ª£t thanh to√°n
            public function payments(): HasMany {
                return $this->hasMany(UserPayment::class);
            }

            // M·ªôt user c√≥ th·ªÉ c√≥ nhi·ªÅu quy·ªÅn (th√¥ng qua role)
            public function permissions(): BelongsToMany {
                return $this->belongsToMany(Permission::class, 'role_permissions', 'role', 'permission_id', 'role', 'id');
            }
        }


üìå 2. Model ShortLink.php

        class ShortLink extends Model {
            use HasFactory;

            protected $fillable = [
                'user_id', 'short_code', 'original_url', 'status', 'expires_at'
            ];

            // M·ªôt link thu·ªôc v·ªÅ m·ªôt user
            public function user(): BelongsTo {
                return $this->belongsTo(User::class);
            }

            // M·ªôt link c√≥ nhi·ªÅu l∆∞·ª£t click
            public function clicks(): HasMany {
                return $this->hasMany(ClickStatistic::class);
            }
        }



üìå 3. Model ClickStatistic.php

        class ClickStatistic extends Model {
            use HasFactory;

            protected $fillable = [
                'short_link_id', 'ip_address', 'user_agent', 'referrer', 'device_type', 'os', 'country', 'clicked_at'
            ];

            // M·ªôt l∆∞·ª£t click thu·ªôc v·ªÅ m·ªôt link r√∫t g·ªçn
            public function shortLink(): BelongsTo {
                return $this->belongsTo(ShortLink::class);
            }
        }



üìå 4. Model Permission.php


        class Permission extends Model {
            use HasFactory;

            protected $fillable = [
                'code', 'name', 'description'
            ];

            // M·ªôt quy·ªÅn c√≥ th·ªÉ thu·ªôc v·ªÅ nhi·ªÅu vai tr√≤
            public function roles(): BelongsToMany {
                return $this->belongsToMany(User::class, 'role_permissions', 'permission_id', 'role', 'id', 'role');
            }
        }


üìå 5. Model RolePermission.php

        class RolePermission extends Model {
            use HasFactory;

            protected $fillable = [
                'role', 'permission_id'
            ];

            // M·ªôt quy·ªÅn thu·ªôc v·ªÅ m·ªôt nh√≥m quy·ªÅn
            public function permission(): BelongsTo {
                return $this->belongsTo(Permission::class);
            }
        }


üìå 6. Model UserPayment.php

        class UserPayment extends Model {
            use HasFactory;

            protected $fillable = [
                'user_id', 'amount', 'payment_method', 'status'
            ];

            // M·ªôt thanh to√°n thu·ªôc v·ªÅ m·ªôt user
            public function user(): BelongsTo {
                return $this->belongsTo(User::class);
            }
        }



IV.  C√†i Flowbite ƒë·ªÉ l·∫•y UI t·ª´ Flowbite
    npm install flowbite

    - Th√™m v√†o tailwind.config.js
        + require('flowbite/plugin')    ---->     plugins: [forms, require('flowbite/plugin')],
        + './node_modules/flowbite/**/*.js'   --->  content: [
                                                        ...
                                                        './node_modules/flowbite/**/*.js'
                                                    ],

    - ch·∫°y l·∫°i npm run dev

V. Vi·∫øt ch·ª©c nƒÉng Admin
    1. D√πng Middleware ƒë·ªÉ ki·ªÉm tra quy·ªÅn truy c·∫≠p route admin
        - T·∫°o Middleware: php artisan make:middleware AdminMiddleware
            public function handle(Request $request, Closure $next , $guard = null): Response
                {
                    // n·∫øu ƒë√£ ƒëƒÉng nh·∫≠p v√† l√† admin ho·∫∑c moderator
                    if (Auth::check() && (Auth::user()->role == 'admin' || Auth::user()->role == 'moderator')) {
                        return $next($request);
                    }

                    return redirect()->route('home')->with('error', 'Access Denied, you are not an administrator');

                }
        - khai b√°o middleware trong kennel
            protected $middlewareAliases = [
                ...
                'admin' => \App\Http\Middleware\AdminMiddleware::class,
            ];


        - T·∫°o Admin controller trong folder Admin
            php artisan make:controller Admin/AdminController

        - Vi·∫øt Route ch·ª©a middleware ƒë·ªÉ ki·ªÉm tra
            Route::middleware(['auth', 'admin'])->prefix('admin')->group(function () {
                Route::get('/dashboard', [AdminController::class, 'index'])->name('admin.dashboard');
            });

    2. Admin login/logout

    - T·∫°o redirectAdmin middleware ƒë·ªÉ chuy·ªÉn h∆∞·ªõng admin
        php artisan make:middleware redirectAdmin


    - Vi·∫øt ph∆∞∆°ng th·ª©c chuy·ªÉn h∆∞·ªõng n·∫øu l√† admin ho·∫∑c moderator
        public function handle(Request $request, Closure $next , $guard = null): Response
            {
                // n·∫øu ƒë√£ ƒëƒÉng nh·∫≠p v√† l√† admin ho·∫∑c moderator
                if (Auth::check() && (Auth::user()->role == 'admin' || Auth::user()->role == 'moderator')) {
                    return $next($request);
                }

                return redirect()->route('home')->with('error', 'Access Denied, you are not an administrator');

            }


    - khai b√°o middleware trong kennel
            use App\Http\Middleware\redirectAdmin;
            protected $middlewareAliases = [
                ...
                'redirectAdmin' => redirectAdmin::class,
            ];


    - T·∫°o AdminAuthController
        php artisan make:controller Admin/AdminAuthController

        public function showLoginForm(){
            // hi·ªÉn th·ªã giao di·ªán login b·∫±ng vue (/resource/js/Pages/Admin/Auth)
            return Inertia::render('Admin/Auth/Login');
        }

        public function login(Request $request) {
            $user = \App\Models\User::where('email', $request->email)
                ->whereIn('role', ['admin', 'moderator'])
                ->first();


            if ($user && Auth::attempt(['email' => $request->email, 'password' => $request->password])) {
                return redirect()->route('admin.dashboard');

            }
            dd('Th√¥ng tin ƒëƒÉng nh·∫≠p kh√¥ng h·ª£p l·ªá');
            return redirect()->route('admin.login')->with('error', 'Th√¥ng tin ƒëƒÉng nh·∫≠p kh√¥ng h·ª£p l·ªá');
        }

        public function logout(Request $request){
            Auth::guard('web')->logout();
            $request->session()->invalidate();  // h·ªßy session hi·ªán t·∫°i
            return redirect()->route('admin.login');
        }

    - T·∫°o roure admin login/logout
        Route::group(['prefix' => 'admin' , 'middleware' => 'redirectAdmin'],function () {
            Route::get('login', [AdminAuthController::class, 'showLoginForm'])->name('admin.login');
            Route::post('login', [AdminAuthController::class, 'login'])->name('admin.login.post');
            Route::post('logout', [AdminAuthController::class, 'logout'])->name('admin.logout');
        });

    - T·∫°o View form login Vue
        + T·∫°o file vue (/resource/js/Pages/Admin/Auth/Login.vue)
        + Copy n·ªôi dung t·ª´ file (/resource/js/Pages/Auth/Login.vue) b·ªè qua file v·ª´a t·∫°o

        + Thay ƒë·ªïi route ƒë·ªÉ post form


            const submit = () => {
                // ƒë·ªïi route m·ªõi 'admin.login.post
                form.post(route('admin.login.post'), {
                    onFinish: () => form.reset('password'),
                });
            };


    3. T·∫°o view dashboard admin
        (/resource/js/Pages/Admin/Dashboard.vue)
        <template>
            <div>
                <h1>Admin Dashboard</h1>
            </div>
        </template>

        <script setup>

        </script>

        - g·ªçi ƒë·∫øn file dashboard trong AdminController
            public function index(){
                    return Inertia::render('Admin/Dashboard');
                }


    4. T·∫°o giao di·ªán Dashboard Admin t·ª´ flowbite
    - ch·ªçn 1 block giao di·ªán trong https://flowbite.com/blocks/
    - VD ch·ªçn https://flowbite.com/blocks/application/shells/
    - copy code b·ªè v√†o template c·ªßa Dashboard.vue
    - Th√™m ƒëo·∫°n d∆∞·ªõi ƒë·ªÉ load hi·ªáu ·ª©ng
        <script setup>

            import { onMounted } from 'vue'
            import { initFlowbite } from 'flowbite'

            // initialize components based on data attribute selectors
            onMounted(() => {
                initFlowbite();
            })

        </script>


    - Ph√¢n t√°ch giao di·ªán th√†nh c√°c th√†nh ph·∫ßn nh·ªè c√≥ th·ªÉ s·ª≠ d·ª•ng l·∫°i
        + T·∫°o folder Pages/Admin/components
        + T·∫°o file Navbar.vue, Sidebar.vue, Footer.vue
        + Pages/Admin/components/AdminLayout.vue ch·ª©a c√°c component c·ªßa Navbar, Sidebar, Footer ƒë√£ ph·∫ßn t√°ch
                    <template>
                        <div class="antialiased bg-gray-50 dark:bg-gray-900">
                            <!-- Navbar -->
                            <Navbar />
                            <!-- End Navbar -->

                            <!-- Sidebar -->
                            <Sidebar/>
                            <!-- End Sidebar -->

                            <main class="p-4 md:ml-64 h-auto pt-20">
                                <slot />
                            </main>
                        </div>
                    </template>

                    <script setup>
                        import { onMounted } from "vue";
                        import { initFlowbite } from "flowbite";
                        import Navbar from "./Navbar.vue";
                        import Sidebar from "./Sidebar.vue";


                        // initialize components based on data attribute selectors
                        onMounted(() => {
                            initFlowbite();
                        });
                    </script>


        + Dashboard.vue ch·ª©a n·ªôi dung Main v√† g·ªçi AdminLayout v√†o
                    <template>
                        <AdminLayout>
                            <main>
                                ...
                            </main>
                        </AdminLayout>
                    </template>

                    <script setup>
                        // g·ªçi AdminLayout
                        import AdminLayout from "./AdminLayout.vue";
                    </script>


        *Note:
            - Th·∫ª <slot></slot> ƒë∆∞·ª£c s·ª≠ d·ª•ng trong component ƒë·ªÉ x√°c ƒë·ªãnh m·ªôt v√πng ch√®n n·ªôi dung (content insertion point). ƒê√¢y l√† m·ªôt ph·∫ßn quan tr·ªçng c·ªßa slot-based content distribution v√† ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ch√®n n·ªôi dung t·ª´ b√™n ngo√†i v√†o component con, cho ph√©p c√°c component tr·ªü n√™n linh ho·∫°t v√† t√°i s·ª≠ d·ª•ng.

            - C√°ch ho·∫°t ƒë·ªông c·ªßa <slot></slot>
                + Component cha (Parent): Khi b·∫°n s·ª≠ d·ª•ng m·ªôt component v√† mu·ªën ch√®n n·ªôi dung c·ª• th·ªÉ v√†o trong n√≥, b·∫°n c√≥ th·ªÉ ƒë·∫∑t n·ªôi dung ƒë√≥ gi·ªØa th·∫ª m·ªü v√† ƒë√≥ng c·ªßa component.
                + Component con (Child): Th·∫ª <slot></slot> trong component con s·∫Ω l√† n∆°i hi·ªÉn th·ªã n·ªôi dung m√† component cha truy·ªÅn v√†o.



    - Thay ƒë·ªïi route button logout
        - ·ªü Navbar thanh ƒë·ªïi th·∫ª a c·ªßa button logout th√†nh Link (d√πng route Link)
                <li>
                    // g·ªçi ƒë·∫øn name c·ªßa route
                    <Link :href="route('logout')" method="post"
                        class="block py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white" >Log Out
                    </Link>
                </li>

        - Khai b√°o Link ·ªü script
            <script setup>
                import { Link } from "@inertiajs/vue3";
            </script>



    5.T·∫°o view cho dashboard
                + T·∫°o file /Dashboard/Index.vue (/resources/js/pages/Admin/Dashboard)
                + T·∫°o component Dashboard List cho admin Dashboard
                        . T·∫°o file Admin/Dashboard/Dashboard.vue (c√πng c·∫•p v·ªõi file Index ph√≠a tr√™n)
                        . ch·ªçn 1 block giao di·ªán trong https://flowbite.com/blocks/
                        . VD ch·ªçn https://flowbite.com/blocks/application/advanced-tables/
                        . copy code b·ªè v√†o template c·ªßa file v·ª´a t·∫°o

                + import AdminLayout v√† ProductList v√†o page product
                        <script setup>
                            import AdminLayout from '../Components/AdminLayout.vue'
                            import ProductList from './ProductList.vue'
                        <style lang="scss" scoped>

                + G·ªçi Admin Layout v√†o page product
                    <template>
                        <AdminLayout>
                            <ProductList>

                            </ProductList>
                        </AdminLayout>
                    </template>


    6. Ch·ª©c nƒÉng qu·∫£n l√Ω link
        -T·∫°o /Admin/LinkController,
            php artisan make:controller Admin/LinkController

            public function index(){
                // tr·ªè ƒë·∫øn file view
                return Inertia::render('Admin/Link/Index');
            }


        - T·∫°o route cho admin link
            Route::middleware(['auth', 'admin'])->prefix('admin')->group(function () {
                ...
                // link
                Route::get('/links', [LinkController::class, 'index'])->name('admin.links.index');

            });


        - T·∫°o view cho admin link
            + T·∫°o file /Link/Index.vue (/resources/js/pages/Admin/Link)

                <template>
                    <AdminLayout>
                        <LinkList :links="links">

                        </LinkList>
                    </AdminLayout>
                </template>

                <script setup>
                    defineProps( {
                        links: Array
                    } );

                    import AdminLayout from '../Components/AdminLayout.vue'
                    import LinkList from './LinkList.vue'
                </script>


            + T·∫°o component Link List cho admin link
                    . T·∫°o file Admin/Link/LinkList.vue (c√πng c·∫•p v·ªõi file Index ph√≠a tr√™n)
                    . ch·ªçn 1 block giao di·ªán trong https://flowbite.com/blocks/
                    . VD ch·ªçn https://flowbite.com/blocks/application/advanced-tables/
                    . copy code b·ªè v√†o template c·ªßa file v·ª´a t·∫°o

            + import AdminLayout v√† LinkList v√†o page link
                    <script setup>
                        import AdminLayout from '../Components/AdminLayout.vue'
                        import LinkList from './LinkList.vue'
                    <style lang="scss" scoped>

            + G·ªçi Admin Layout v√†o page link
                <template>
                    <AdminLayout>
                        <LinkList>

                        </LinkList>
                    </AdminLayout>
                </template>

        - ƒê·∫©y d·ªØ li·ªáu t·ª´ DB ra view
                + L·∫•y d·ªØ li·ªáu t·ª´ LinkController
                    public function index(){
                        //l·∫•y t·∫•t c·∫£ c√°c b·∫£n ghi t·ª´ b·∫£ng links
                        //K·∫øt qu·∫£ tr·∫£ v·ªÅ l√† m·ªôt t·∫≠p h·ª£p (collection) ch·ª©a t·∫•t c·∫£ c√°c ƒë·ªëi t∆∞·ª£ng Link.
                        $links = Link::get();
                        // render component v·ªõi tham s·ªë l√† 'links' v·ªõi gi√° tr·ªã l√† k·∫øt qu·∫£ l·∫•y t·ª´ table
                        return Inertia::render('Admin/Link/Index', ['links' => $links]);
                    }


                + ·ªü view LinkList.vue l·∫•y d·ªØ li·ªáu hi·ªÉn th·ªã ra m√†n h√¨nh b·∫±ng v√≤ng l·∫∑p
                    <script setup>
                        import { usePage } from '@inertiajs/vue3';

                        const links = usePage().props.links;
                        console.log(links);
                    </script>


        -T·∫°o Modal add/edit link **
            + D√πng th∆∞ vi·ªán element-plus
                https://element-plus.org/en-US/component/upload.html

            + c√†i element-plus.org
                npm install element-plus --save

            + import to global
                . app.js
                    import ElementPlus from 'element-plus'
                    import 'element-plus/dist/index.css'

                    ...
                    setup({ el, App, props, plugin }) {

                        app.use(VueSweetalert2)
                        window.Swal = app.config.globalProperties.$swal
                    },


        - import sweatalert ƒë·ªÉ hi·ªÉn th·ªã th√¥ng b√°o
            npm i vue-sweetalert2

            + app.js
                import VueSweetalert2 from 'vue-sweetalert2';
                import 'sweetalert2/dist/sweetalert2.min.css';

                ...


                setup({ el, App, props, plugin }) {
                    const app = createApp({ render: () => h(App, props)})

                    app.use(plugin)
                    app.use(ZiggyVue)
                    app.use(ElementPlus)
                    app.mount(el)
                },


        - T·∫°o c√°c th√¥ng b√°o t·∫°m th·ªùi (flash messages) l∆∞u trong session
            Http/Middleware/HandleInertiaRequests.php
                public function share(Request $request): array
                {
                    return [
                        ...parent::share($request),
                        'auth' => [
                            'user' => $request->user(),
                        ],
                        // flash message
                        'flash' => [
                            'success' => fn () => $request->session()->get('success'),
                            'error' => fn () => $request->session()->get('error'),
                            'warning' => fn () => $request->session()->get('warning'),
                            'info' => fn () => $request->session()->get('info'),
                        ],
                    ];
                }

        - import dayjs ƒë·ªÉ ƒë·ªãnh d·∫°ng ng√†y th√°ng ·ªü frontend

                npm install dayjs

















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































